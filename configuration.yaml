homeassistant:
  name: Дом
  latitude: 59.4480
  longitude: 24.6930
  elevation: 21
  unit_system: metric
  time_zone: Europe/Tallinn  
  customize: !include customize.yaml  
  # packages: !include_dir_named packages
  
sensor: !include_dir_merge_list sensors
automation old: !include_dir_merge_list automation
automation: !include automations.yaml
scene: !include scene.yaml
switch: !include switch.yaml
# script: !include_dir_merge_named script
script: !include scripts.yaml
group: !include groups.yaml
input_select: !include input_select.yaml
input_boolean: !include input_boolean.yaml
input_slider: !include input_slider.yaml
shell_command: !include_dir_named shell_command/


#introduction:
config:
updater:
discovery:
# conversation:
history:
  exclude:
    domains:
      - group
      - script
      - sensor
      - sun
  # include:
    # entities:
      # - sensor.away_time
      # - sensor.command_sensor
      # - sensor.cpu_temp
      # - sensor.cpu_use
      # - sensor.date
      # - sensor.date__time
      # - sensor.disk_use_
      # - sensor.door_event
      # - sensor.hall_esp
      # - sensor.heater
      # - sensor.heater_esp
      # - sensor.heater_temp
      # - sensor.home_time
      # - sensor.ip_ext
      # - sensor.motion_event
      # - sensor.ram_free
      # - sensor.ram_use
      # - sensor.rf_code
      # - sensor.rf_hub
      # - sensor.since_last_boot
      # - sensor.tv_esp

logbook:
  exclude:
    entities:
      - sensor.cpu_temp
      - sensor.cpu_use
      - sensor.date
      - sensor.date__time
      - sensor.disk_use_
      - sensor.home_time
      - sensor.since_last_boot
      - sensor.time
      - sensor.time__date
sun:
frontend:
  extra_html_url:
    - https://raw.githubusercontent.com/andrey-git/home-assistant-custom-ui/master/state-card-custom-ui.html
  themes:
    minimal:
      dark-primary-color: "#192231"
      primary-color: "#98878f"
      light-primary-color: "#98878f"
      paper-toggle-button-checked-ink-color: "#494e6b"
      paper-toggle-button-checked-button-color: "#494e6b"
      paper-toggle-button-checked-bar-color: "#494e6b"
      paper-slider-knob-color: "#494e6b"
      paper-slider-knob-start-color: "#494e6b"
      paper-slider-pin-color: "#494e6b"
      paper-slider-active-color: "#494e6b"
    stormy_hues:
      dark-primary-color: "#192231"
      primary-color: "#98878f"
      light-primary-color: "#98878f"
      paper-toggle-button-checked-ink-color: "#494e6b"
      paper-toggle-button-checked-button-color: "#494e6b"
      paper-toggle-button-checked-bar-color: "#494e6b"
      paper-slider-knob-color: "#494e6b"
      paper-slider-knob-start-color: "#494e6b"
      paper-slider-pin-color: "#494e6b"
      paper-slider-active-color: "#494e6b"
    vintage:
      dark-primary-color: "#373f27"
      primary-color: "#636b46"
      light-primary-color: "#e9e7da"
      paper-toggle-button-checked-ink-color: "#cda34f"
      paper-toggle-button-checked-button-color: "#cda34f"
      paper-toggle-button-checked-bar-color: "#cda34f"
      paper-slider-knob-color: "#cda34f"
      paper-slider-knob-start-color: "#cda34f"
      paper-slider-pin-color: "#cda34f"
      paper-slider-active-color: "#cda34f"
    done1:
      dark-primary-color: "#565656"
      primary-color: "#C09F80"
      light-primary-color: "#D7CEC7"
      paper-toggle-button-checked-ink-color: "#76323F"
      paper-toggle-button-checked-button-color: "#76323F"
      paper-toggle-button-checked-bar-color: "#76323F"
      paper-slider-knob-color: "#76323F"
      paper-slider-knob-start-color: "#76323F"
      paper-slider-pin-color: "#76323F"
      paper-slider-active-color: "#76323F"
      paper-slider-secondary-color: "#FFE0B2"
    darkred:
    # Main colors that can be changed
      dark-primary-color: "#c66900"
      disabled-text-color: "#545454"
      divider-color: "rgba(255, 255, 255, 0.12)"
      light-primary-color: "#e06c6c"
      paper-card-background-color: "#1d1d1d"
      paper-grey-200: "#191919"
      paper-item-icon-color: "#d3d3d3"
      paper-listbox-background-color: "#202020"
      primary-background-color: "#303030"
      primary-color: "#d32f2f"
      primary-text-color: "#cfcfcf"
      secondary-background-color: "#131313"
      sidebar-text_-_background: "#62717b" 
    # Colors based on variables, see above
      paper-card-header-color: "var(--paper-item-icon-color)" 
      paper-item-icon-active-color: "var(--primary-color)"
      paper-item-icon_-_color: "var(--primary-text-color)"
      paper-listbox-color: "var(--primary-text-color)"
      paper-grey-50: "var(--primary-text-color)"
      paper-slider-active-color: "var(--primary-color)"
      paper-slider-knob-color: "var(--primary-color)"
      paper-slider-knob-start-color: "var(--primary-color)"
      paper-slider-pin-color: "var(--primary-color)"
      paper-slider-secondary-color: "var(--light-primary-color)"
      paper-toggle-button-checked-ink-color: "var(--dark-primary-color)"
      paper-toggle-button-checked-button-color: "var(--primary-color)"
      paper-toggle-button-checked-bar-color: "var(--light-primary-color)"
      paper-toggle-button-unchecked-bar-color: "var(--primary-text-color)"
      secondary-text-color: "var(--primary-color)"
      table-row-background-color: "var(--paper-card-background-color)"
      table-row-alternative-background-color: "var(--sidebar-text_-_background)"
http:
  api_password: !secret http_password
  development: 0
  login_attempts_threshold: 5
  trusted_networks:
    - 127.0.0.1
    - 192.168.31.1
    - 192.168.31.20

xiaomi_aqara:
  gateways:
   - mac:
     key: !secret xiaomi_aqara_key

tts:
 - platform: google
   cache: true
   cache_dir: /tmp/tts
   time_memory: 300
   language: 'ru'

notify:
 - name: fb
   platform: facebook
   page_access_token: EAAR1CtMQNZB0BABph8XdhHmPrKhAcaIdvIjkG5VM6H3wK728cdfvVfZBZBy7NpqGXiB2VUExcBWMVaeEFWvZAVUOISYn6HHvlr4sMUkCjqvg0vd54huMCFgafAHIqtY1qAjzHZAyBrJORiCLifQqo9iyeS7OrRX2T5xWcMC9j2VqAEzW0jZAma
 - platform: nfandroidtv
   name: Mi_Tv_Box
   host: !secret mi_tv_box_host
 - platform: pushbullet 
   name: pb
   api_key: !secret pushbullet_api_key
 # - platform: html5 
   # gcm_api_key: !secret gcm_api_key
   # gcm_sender_id: !secret gcm_sender_id
   
device_tracker:
  - platform: xiaomi
    host: 192.168.31.1
    password: 1127664523
  - platform: mqtt
    devices:
      Jane: stat/hass/jane
      Dmitri: stat/hass/dmitri
media_player:
  # - platform: spotify
    # client_id: !secret spotify_client_id
    # client_secret: !secret spotify_client_secret
  #- platform: vlc
    # name: vlc
 # - platform: cast
   # host: 192.168.31.105
mqtt:
  broker: !secret mqtt_broker
  port: !secret mqtt_port
  client_id: home-assistant-1
  keepalive: 60
  username: !secret mqtt_username
  # password: !secret mqtt_password
  protocol: 3.1
  birth_message:
    topic: 'tele/hass/LWT'
    payload: 'Online'
  will_message:
    topic: 'tele/hass/LWT'
    payload: 'Offline'

climate:
 - platform: generic_thermostat
   name: Room
   heater: switch.heating
   target_sensor: sensor.heater_temp
   min_temp: 19
   max_temp: 30
   target_temp: 20
   tolerance: 2
   
binary_sensor:
 - platform: rpi_gpio
   invert_logic: false
   ports:
    11: Front Door
    
 - platform: rpi_gpio
   invert_logic: false
   pull_mode: DOWN
   ports:
    12: Motion Sensor

fan:
  - platform: mqtt
    name: "Hall Blink"
    command_topic: "cmnd/sonoff1/POWER"
    # oscillation_state_topic: "bedroom_fan/oscillation/state"
    # oscillation_command_topic: "bedroom_fan/oscillation/set"
    # speed_state_topic: "bedroom_fan/speed/state"
    speed_command_topic: "cmnd/sonoff1/BlinkCount"
    payload_on: 3
    payload_off: 4
    # payload_oscillation_on: "true"
    # payload_oscillation_off: "false"
    payload_low_speed: "2"
    payload_medium_speed: "3"
    payload_high_speed: "10"
    speeds:
      - low
      - medium
      - high
alarm_control_panel:
  - platform: manual_mqtt
    state_topic: "home/alarm"
    command_topic: "home/alarm/set"
# panel_custom:
  # - name: floorplan
    # sidebar_title: Floorplan
    # sidebar_icon: mdi:home
    # url_path: floorplan
    # config: !include floorplan.yaml
panel_iframe:
  docker:
    title: Docker
    icon: mdi:webpack
    url: !secret docker_url

# plant:
  # simulated_plant:
    # sensors:
      # battery: sensor.mi_flora_battery
      # moisture: sensor.mi_flora_moisture
      # temperature: sensor.mqtt_plant_temperature
      # conductivity: sensor.mi_flora_conductivity
      # brightness: sensor.mi_flora_light_intensity
    # min_moisture: 10
    # max_moisture: 60
    # min_battery: 17
    # min_conductivity: 500
    # min_temperature: 15
    

